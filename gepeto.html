<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz Central</title>

<link href="https://api.fontshare.com/v2/css?f[]=clash-display@700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>

/* Variáveis de Estilo */
:root {
    --blue-dark: #1a237e;
    --blue-mid: #283593;
    --blue-strong: #0d47a1;

    --yellow: #ffeb3b;
    --yellow-strong: #ffc107;

    --white: #fff;
    --light-text: #eaeaea;

    --correct: #4CAF50;
    --incorrect: #F44336;

    --card-bg: rgba(18,25,55,0.85);
    /* Fundo transparente para cards de quiz */
    --menu-card-bg: rgba(0, 0, 0, 0.4); 
}

/* Estilo Geral */
body {
    margin: 0;
    font-family: "Poppins", sans-serif;
    color: var(--white);
    display: flex;
    justify-content: center;
    align-items: center; 
    min-height: 100vh;
    padding: 0; 
    /* Fundo animado */
    animation: bg 18s infinite alternate;
    background: linear-gradient(135deg, var(--blue-dark), var(--blue-mid), var(--blue-strong));
    background-size: 300% 300%;
}

@keyframes bg {
    0% { background-position: 0% 50%; }
    100% { background-position: 100% 50%; }
}

.quiz-container {
    width: 100%;
    max-width: 550px;
    padding: 20px 10px; 
}

/* Menu de Início (Tela Principal) */
#start-menu {
    position: fixed; 
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    z-index: 100; 

    /* GIF como Fundo */
    background-image: url('I.gif');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
}

/* Fundo semi-transparente na Tela Inicial */
#start-menu::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5); 
    z-index: -1; 
}

/* Título no Menu Inicial */
#start-menu-title {
    width: 90%;
    max-width: 450px;
    margin-bottom: 30px;
    border: none; 
    border-radius: 10px;
    
    /* Animação de Levitação */
    animation: levitate 4s infinite ease-in-out;
}

@keyframes levitate {
    0% { transform: translateY(0px); }
    50% { transform: translateY(-15px); }
    100% { transform: translateY(0px); }
}

/* Botão de Start */
#start-button {
    cursor: pointer;
    width: 70%; 
    max-width: 250px; 
    transition: transform 0.2s;
    margin-top: 20px; 
}

#start-button:hover {
    transform: scale(1.05);
}

/* Título na Tela de Seleção */
#menu-title-image {
    width: 100%;
    max-width: 450px;
    margin: 0 auto 30px;
    border: none; 
    border-radius: 10px;
    display: block;
}


/* Título H1 */
h1 {
    font-family: "Clash Display", sans-serif;
    text-align: center;
    font-size: clamp(35px, 10vw, 70px);
    margin: 20px 0 25px;
    color: var(--yellow);
    text-shadow: 4px 4px 10px #000;
    animation: drop 0.8s ease-out;
}

@keyframes drop {
    from { transform: translateY(-40px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

/* Card da Pergunta */
.question-card {
    background: var(--card-bg);
    padding: 20px;
    border-radius: 18px;
    border: 3px solid var(--yellow-strong);
    box-shadow: 0 8px 20px rgba(0,0,0,0.6);
    animation: fadeUp 0.4s ease-out;
}

@keyframes fadeUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

.question-text {
    font-size: clamp(16px, 5vw, 26px);
    font-weight: 600;
    margin-bottom: 15px;
}

/* Imagens */
.question-image {
    width: 100%;
    border-radius: 12px;
    margin-bottom: 18px;
    border: 3px solid var(--yellow);
    box-shadow: 0 5px 15px rgba(0,0,0,0.5);
}

/* Botões de Opção */
.options-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
}

.option-button {
    padding: 14px 10px;
    font-size: clamp(14px, 4vw, 20px);
    background: var(--blue-mid);
    border-radius: 12px;
    color: var(--light-text);
    border: 2px solid var(--yellow);
    cursor: pointer;
    transition: 0.25s;
    text-align: center;
    font-weight: 600;
}

.option-button:hover:not(:disabled) {
    transform: scale(1.05);
    background: var(--blue-strong);
}

.option-button.correct {
    background: var(--correct) !important;
    border-color: #fff;
    color: #000;
    animation: pulse 0.3s ease-in-out;
}

.option-button.incorrect {
    background: var(--incorrect) !important;
    border-color: #fff;
    animation: shake 0.3s;
}

@keyframes pulse {
    50% { transform: scale(1.08); }
}

@keyframes shake {
    20% { transform: translateX(-6px); }
    40% { transform: translateX(6px); }
}

/* Botão Próximo/Reiniciar */
#next-button, #restart-button {
    display: none;
    margin: 25px auto 0;
    padding: 15px 25px;
    border-radius: 14px;
    background: var(--yellow);
    color: #000;
    border: 2px solid var(--blue-dark);
    font-size: clamp(16px, 5vw, 24px);
    font-weight: 700;
    cursor: pointer;
    width: 100%;
    max-width: 270px;
    transition: 0.2s;
    box-shadow: 0 4px 10px rgba(0,0,0,0.4); 
}

#next-button:hover, #restart-button:hover {
    background: var(--yellow-strong);
}

/* Tela Final */
#result-container {
    display: none;
    text-align: center;
    background: var(--card-bg);
    padding: 30px;
    border-radius: 20px;
    border: 3px solid var(--yellow-strong);
    animation: fadeUp 0.6s ease-out;
}

#result-container img {
    width: 80%;
    max-width: 260px;
    margin-top: 20px;
    border-radius: 12px;
    border: 3px solid var(--yellow);
}

#result-container h2 {
    font-family: "Clash Display", sans-serif;
    font-size: clamp(28px, 8vw, 50px);
    color: var(--yellow);
}

.score-display {
    font-size: clamp(26px, 8vw, 40px);
    font-weight: 700;
    color: var(--yellow-strong);
}

.score-evaluation {
    margin-top: 15px;
    font-size: clamp(14px, 5vw, 25px);
    font-weight: 600;
    color: var(--white);
}

/* Menu de Seleção */
#menu-container {
    text-align: center;
    animation: fadeUp 0.4s ease-out;
    padding: 20px; 
    border-radius: 18px; 
    
    /* Fundo de GIF */
    background-image: url('I.gif');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    
    position: relative;
    z-index: 1; 
    overflow: hidden; 
}

/* Sobreposição escura no Menu de Seleção */
#menu-container::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.4); 
    border-radius: 18px;
    z-index: -1; 
}


.quiz-selection-card {
    /* Fundo mais transparente */
    background: var(--menu-card-bg); 
    padding: 20px;
    border-radius: 18px;
    border: 3px solid var(--yellow);
    margin-bottom: 20px;
    cursor: pointer;
    transition: 0.3s;
    text-align: left;
    /* Garante que o card fique acima da sobreposição */
    position: relative;
    z-index: 1; 
}

.quiz-selection-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(255,255,255,0.4); 
}

.quiz-selection-card h3 {
    font-family: "Clash Display", sans-serif;
    color: var(--yellow);
    margin: 0;
    font-size: clamp(22px, 6vw, 35px);
}

.quiz-selection-card p {
    margin-top: 5px;
    font-size: clamp(14px, 4vw, 18px);
    color: var(--light-text);
}

/* Botão de Voltar para Menu de Seleção (dentro do quiz-area) */
#back-to-selection {
    margin: 20px auto 0;
    padding: 10px 20px;
    border-radius: 10px;
    background: var(--blue-mid); 
    color: var(--white);
    border: 2px solid var(--blue-dark); 
    font-size: clamp(14px, 4vw, 20px);
    font-weight: 600;
    cursor: pointer;
    width: 100%;
    max-width: 270px;
    transition: 0.2s;
    box-shadow: 0 2px 5px rgba(0,0,0,0.4); 
}
#back-to-selection:hover {
    background: var(--blue-strong);
}

/* Botão para o Menu Inicial (dentro da seleção de quiz) */
#back-to-start-menu {
    margin-top: 30px;
    padding: 10px 20px;
    border-radius: 10px;
    background: #5c6bc0; 
    color: #fff;
    border: 2px solid var(--blue-dark); 
    font-size: clamp(14px, 4vw, 20px);
    font-weight: 600;
    cursor: pointer;
    width: 100%;
    max-width: 270px;
    transition: 0.2s;
    box-shadow: 0 2px 5px rgba(0,0,0,0.4); 
}
#back-to-start-menu:hover {
    background: #7986cb;
}

/* Botão de Sair com Confirmação */
.exit-button {
    margin: 15px auto 0; 
    padding: 10px 20px;
    border-radius: 10px;
    background: #e57373; 
    color: #000;
    border: 2px solid #b71c1c; 
    font-size: clamp(14px, 4vw, 20px);
    font-weight: 600;
    cursor: pointer;
    width: 100%;
    max-width: 270px;
    transition: 0.2s;
    box-shadow: 0 2px 5px rgba(0,0,0,0.4); 
}

.exit-button:hover {
    background: #ef9a9a;
}

</style>
</head>

<body>

/* MENU DE INÍCIO (TELA PRINCIPAL) */
<div id="start-menu">
    /* Imagem de Título com Levitação */
    <img id="start-menu-title" src="w.png" alt="Título do Quiz">
    
    /* Botão de Start */
    <img id="start-button" src="start.png" alt="Botão de Start" onclick="showMenu()">
</div>

<div class="quiz-container">

    /* MENU DE SELEÇÃO */
    <div id="menu-container" style="display: none;">
        
        /* Imagem de Título na Tela de Seleção */
        <img id="menu-title-image" src="w.png" alt="Título do Quiz">
        
        <h1>Selecione o Quiz</h1>
        
        <div class="quiz-selection-card" onclick="startQuiz('clashRoyale')">
            <h3>Clash Royale Quiz</h3>
            <p>Teste seus conhecimentos sobre o universo do Clash Royale: Cartas, Elixir e Jogadores!</p>
        </div>

        <div class="quiz-selection-card" onclick="startQuiz('generalKnowledge')">
            <h3>Conhecimentos Gerais</h3>
            <p>Um desafio para sua mente! História, Ciência, Cultura Pop e muito mais.</p>
        </div>

        /* Botão para voltar para a tela inicial */
        <button id="back-to-start-menu" onclick="showStartMenu()">Voltar para Menu Inicial</button>

    </div>


    /* ÁREA DO QUIZ */
    <div id="clash-royale-quiz-area" style="display: none;">
        <h1 id="quiz-title">Quiz</h1>
        <div id="quiz-area"></div>
        <button id="next-button">Próxima Pergunta</button>
        
        <div id="result-container">
            <h2>Fim do Quiz!</h2>
            <p>Sua pontuação final é: <span id="final-score" class="score-display">0</span>/10</p>
            <p class="score-evaluation" id="score-message"></p>
            <img id="score-image" src="" alt="Resultado">
            <button id="restart-button">Reiniciar Quiz</button> 
        </div>

        /* Botão de Voltar para o Menu de Seleção */
        <button id="back-to-selection" onclick="confirmExitToMenu()">Voltar para Seleção</button>

        /* Botão de Sair com confirmação */
        <button class="exit-button" onclick="confirmExitToMenu()">Sair para o Menu</button>
    </div>

</div>

<script>

// Arquivos de Imagem
const imageFiles = {
    // Imagens das Perguntas do Clash Royale
    CR_Q1: "henrique.png",
    CR_Q2: "lengedaria.jpeg",
    CR_Q3: "1.jpeg",
    CR_Q4: "22.png",
    CR_Q5: "evo.jpeg",
    CR_Q6: "careca.jpg",
    CR_Q7: "rei.jpeg",
    CR_Q8: "mega.jpg",
    CR_Q9: "bomba.jpg",
    CR_Q10: "bow.jpeg",

    // Imagens dos Resultados Finais
    LOW_1: "burro1.jpeg",
    LOW_2: "burro2.jpeg",
    LOW_3: "burro3.jpeg",
    MID_1: "mid1.jpeg", 
    MID_2: "mid2.jpeg",
    GOOD: "niga.png",
    PRO: "foda.jpeg"
};

// Dados dos Quizes
const quizData = {
    clashRoyale: {
        title: "Clash Royale Quiz",
        questions: [
            { number: 1, question: "Quanto custa o elixir da habilidade do Goblinstein?", image: imageFiles.CR_Q1,
              options: ["2", "1", "3", "4"], correct: 0 },
            { number: 2, question: "Qual dessas cartas não é lendária?", image: imageFiles.CR_Q2,
              options: ["Pescador", "Bárbaros de Elite", "Bruxa Sombria", "Goblin Machine"], correct: 1 },
            { number: 3, question: "Qual a carta menos utilizada no Clash Royale?", image: imageFiles.CR_Q3,
              options: ["Berserk", "Espírito de Cura", "Cabana de Bárbaros", "Goblin Lanceiro"], correct: 2 },
            { number: 4, question: "Qual é essa arena no Clash Royale?", image: imageFiles.CR_Q4,
              options: ["19", "23", "17", "22"], correct: 3 },
            { number: 5, question: "Qual evolução é a mais fraca atualmente?", image: imageFiles.CR_Q5,
              options: ["Mago Evoluído", "Tesla Evoluída", "Fornalha Evoluída", "Canhão Evoluído"], correct: 0 },
            { number: 6, question: "Qual o melhor jogador dentre essas opções?", image: imageFiles.CR_Q6,
              options: ["Mohamed Light", "Flakes Power", "LucasX Gamer", "Rafinha CR"], correct: 0 },
            { number: 7, question: "Qual carta geralmente usada para ativar a Torre do Rei quando seu adversario lança um Corredor?", image: imageFiles.CR_Q7,
              options: ["Tesla", "Pescador", "Gelo", "Goblins"], correct: 1 }, 
            { number: 8, question: "Entre essas opções qual carta seria mais adequada para defender o Mega Cavaleiro?", image: imageFiles.CR_Q8,
              options: ["Barril de Goblins", "Cavaleiro e Arqueira", "Espírito de Gelo", "Mineiro"], correct: 1 },
            { number: 9, question: "Qual é o custo da Torre de Bombas?", image: imageFiles.CR_Q9,
              options: ["4","3","5","6"], correct: 0 },
            { number: 10, question: "Qual o custo da carta Lançador?", image: imageFiles.CR_Q10,
              options: ["4","5","6","7"], correct: 1 }
        ]
    },
    generalKnowledge: {
        title: "Quiz de Conhecimentos Gerais",
        questions: [
            { number: 1, question: "Qual é o nome do criador da Microsoft?", image: null,
              options: ["Steve Jobs", "Bill Gates", "Mark Zuckerberg", "Jeff Bezos"], correct: 1 },
            { number: 2, question: "Em que ano o homem pisou na Lua pela primeira vez?", image: null,
              options: ["1965", "1969", "1971", "1975"], correct: 1 },
            { number: 3, question: "Qual elemento químico tem o símbolo 'Au'?", image: null,
              options: ["Prata", "Cobre", "Ouro", "Ferro"], correct: 2 },
            { number: 4, question: "Qual é o oceano mais extenso do mundo?", image: null,
              options: ["Atlântico", "Índico", "Glacial Ártico", "Pacífico"], correct: 3 },
            { number: 5, question: "Quem pintou 'A Última Ceia'?", image: null,
              options: ["Michelangelo", "Leonardo da Vinci", "Rafael", "Donatello"], correct: 1 },
            { number: 6, question: "Qual país é famoso por ter a Torre Eiffel?", image: null,
              options: ["Itália", "Alemanha", "França", "Espanha"], correct: 2 },
            { number: 7, question: "Quantos lados tem um hexágono?", image: null,
              options: ["5", "6", "7", "8"], correct: 1 },
            { number: 8, question: "Qual é a capital do Japão?", image: null,
              options: ["Pequim", "Seul", "Tóquio", "Bangkok"], correct: 2 },
            { number: 9, question: "Qual é o gás mais abundante na atmosfera terrestre?", image: null,
              options: ["Oxigênio", "Gás Carbônico", "Nitrogênio", "Argônio"], correct: 2 },
            { number: 10, question: "Quem escreveu a peça 'Romeu e Julieta'?", image: null,
              options: ["Charles Dickens", "William Shakespeare", "Jane Austen", "Machado de Assis"], correct: 1 }
        ]
    }
};

const resultImages = {
    low: [imageFiles.LOW_1, imageFiles.LOW_2, imageFiles.LOW_3],
    mid: [imageFiles.MID_1, imageFiles.MID_2],
    good: [imageFiles.GOOD],
    pro: [imageFiles.PRO]
};

let currentQuizType = null;
let currentQuestions = [];
let index = 0;
let score = 0;

// Função para escolher imagem aleatória
function randomImage(arr) {
    return arr[Math.floor(Math.random() * arr.length)];
}

// Funções de Visibilidade
function showStartMenu() {
    document.getElementById("start-menu").style.display = "flex";
    document.getElementById("menu-container").style.display = "none";
    document.getElementById("clash-royale-quiz-area").style.display = "none";
    document.getElementById("result-container").style.display = "none";
    document.getElementById("next-button").style.display = "none";
}


function showMenu() {
    document.getElementById("start-menu").style.display = "none"; 
    document.getElementById("menu-container").style.display = "block";
    document.getElementById("clash-royale-quiz-area").style.display = "none";
    document.getElementById("result-container").style.display = "none";
    document.getElementById("next-button").style.display = "none";
}

function startQuiz(quizType) {
    currentQuizType = quizType;
    currentQuestions = quizData[quizType].questions;
    
    // Configurações iniciais do Quiz
    index = 0;
    score = 0;
    document.getElementById("quiz-title").innerText = quizData[quizType].title;
    document.getElementById("quiz-area").style.display = "block";
    document.getElementById("result-container").style.display = "none";
    document.getElementById("menu-container").style.display = "none";
    document.getElementById("clash-royale-quiz-area").style.display = "block";
    
    // Garante que o botão de voltar apareça no início do quiz
    document.getElementById("back-to-selection").style.display = "block"; 

    loadQuestion();
}

// Função para confirmar a saída do quiz
function confirmExitToMenu() {
    // Usando confirm() para pedir confirmação
    const isConfirmed = confirm("Tem certeza que deseja voltar ao Menu de Seleção? Seu progresso neste quiz será perdido.");
    if (isConfirmed) {
        showMenu();
    }
}

// Lógica do Quiz
function loadQuestion() {
    if (index >= currentQuestions.length) return showResults();

    const q = currentQuestions[index];

    document.getElementById("quiz-area").innerHTML = `
        <div class="question-card">
            <div class="question-text">${q.number}. ${q.question}</div>
            ${q.image ? `<img src="${q.image}" class="question-image">` : ""}
            <div class="options-container">
                ${q.options.map((opt,i)=>`
                    <button class="option-button" data-id="${i}">${opt}</button>
                `).join("")}
            </div>
        </div>
    `;

    document.querySelectorAll(".option-button").forEach(btn=>{
        btn.onclick = ()=>handleAnswer(btn, q);
    });

    document.getElementById("next-button").style.display = "none";
    // Oculta o botão de voltar quando o quiz está no modo de resposta/próxima pergunta
    document.getElementById("back-to-selection").style.display = "block"; 
}

function handleAnswer(btn, q) {
    const correct = q.correct;
    const choose = parseInt(btn.dataset.id);

    // Lógica para respostas corretas
    const isCorrect = Array.isArray(correct)
        ? correct.includes(choose)
        : choose === correct;

    // Desabilitar botões e mostrar resultado da opção
    document.querySelectorAll(".option-button").forEach(b => {
        b.disabled = true;
        // Marca a correta
        if (Array.isArray(correct) && correct.includes(parseInt(b.dataset.id)))
            b.classList.add("correct");
        if (!Array.isArray(correct) && parseInt(b.dataset.id) === correct)
            b.classList.add("correct");
    });

    if (isCorrect) score++;
    else btn.classList.add("incorrect"); // Marca a incorreta

    document.getElementById("next-button").style.display = "block";
    // Oculta o botão de voltar quando a resposta foi dada
    document.getElementById("back-to-selection").style.display = "none";
}

document.getElementById("next-button").onclick = () => {
    index++;
    loadQuestion();
};

function showResults() {
    document.getElementById("quiz-area").style.display = "none";
    document.getElementById("next-button").style.display = "none";
    document.getElementById("back-to-selection").style.display = "none"; // Oculta o botão de voltar

    document.getElementById("result-container").style.display = "block";
    document.getElementById("final-score").innerText = score;
    document.getElementById("final-score").parentElement.innerHTML = `Sua pontuação final é: <span id="final-score" class="score-display">${score}</span>/${currentQuestions.length}`;

    let msg = "";
    let img = "";
    const percentage = (score / currentQuestions.length) * 100;

    // Lógica de avaliação de resultados
    if (currentQuizType === 'clashRoyale') {
        if (score <= 3) {
            msg = "Mto burro";
            img = randomImage(resultImages.low);
        } 
        else if (score <= 6) {
            msg = "Mais ou menos";
            img = randomImage(resultImages.mid);
        } 
        else if (score <= 8) {
            msg = "quase acertou mas errou";
            img = randomImage(resultImages.good);
        } 
        else {
            msg = "Voce necessita urgente de uma mulher";
            img = randomImage(resultImages.pro);
        }
    } 
    else { // Lógica para Conhecimentos Gerais
        if (percentage < 30) {
            msg = "Bro qual sua ultilidade no mundo?";
            img = randomImage(resultImages.low);
        } else if (percentage < 60) {
            msg = "QI medio de um brasileiro";
            img = randomImage(resultImages.mid);
        } else if (percentage < 90) {
            msg = "Quase mas tu errou a mais facil";
            img = randomImage(resultImages.good);
        } else {
            msg = "Parabéns voce sabe o basico";
            img = randomImage(resultImages.pro);
        }
    }


    document.getElementById("score-message").innerText = msg;
    document.getElementById("score-image").src = img;
}

function restartQuiz() {
    index = 0;
    score = 0;
    document.getElementById("result-container").style.display = "none";
    document.getElementById("quiz-area").style.display = "block";
    loadQuestion();
}

document.getElementById("restart-button").onclick = restartQuiz;

// Inicialização
showStartMenu();

</script>
</body>
</html>
